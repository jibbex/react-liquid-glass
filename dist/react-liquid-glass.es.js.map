{"version":3,"file":"react-liquid-glass.es.js","names":["cssVariables: LiquidGlassCSSVariables","composedStyle: CSSProperties"],"sources":["../src/lib/LiquidGlass.tsx"],"sourcesContent":["import { forwardRef, useEffect, useMemo } from 'react';\nimport type { CSSProperties, HTMLAttributes, ReactNode } from 'react';\nimport '../styles.css';\n\nexport type LiquidGlassRef = HTMLDivElement\n\nexport interface LiquidGlassProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'children'> {\n  children?: ReactNode\n  /**\n   * Strength of the diffusion layer between 0 (disabled) and 1 (maximum).\n   */\n  intensity?: number\n  /**\n   * Base tint used for the glass surface. Accepts any valid CSS color value.\n   */\n  tint?: string\n  /**\n   * Highlight color blended into the glass sheen.\n   */\n  highlightColor?: string\n  /**\n   * Strength of the highlight between 0 (hidden) and 1 (fully visible).\n   */\n  highlightStrength?: number\n  /**\n   * Blur radius applied to the glass pane in pixels.\n   */\n  blurRadius?: number\n  /**\n   * Opacity of the organic distortion noise between 0 and 1.\n   */\n  ripple?: number\n  /**\n   * Enables subtle motion cues for the highlight and noise layers.\n   */\n  animated?: boolean\n  /**\n   * Enables the SVG displacement filter beneath the surface.\n   */\n  distortion?: boolean\n  /**\n   * Identifier of the SVG filter that should be used for displacement.\n   */\n  distortionFilterId?: string\n  /**\n   * Intensity scale forwarded to the displacement filter.\n   */\n  distortionScale?: number\n}\n\ntype LiquidGlassCSSVariables = CSSProperties & {\n  '--rlg-intensity'?: string;\n  '--rlg-tint'?: string;\n  '--rlg-highlight-color'?: string;\n  '--rlg-highlight-strength'?: string;\n  '--rlg-blur-radius'?: string;\n  '--rlg-ripple-opacity'?: string;\n  '--rlg-backdrop-filter-prefix'?: string;\n};\n\nconst clamp = (value: number, min: number, max: number) => {\n  if (Number.isNaN(value)) return min;\n  return Math.min(Math.max(value, min), max);\n};\n\nconst mergeClassNames = (...values: Array<string | undefined>) =>\n  values.filter(Boolean).join(' ');\n\nconst injectDistortionFilter = (\n  filterId: string,\n  distortionScale: number,\n) => {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return;\n  }\n\n  const normalizedScale = Math.min(Math.max(Math.abs(distortionScale), 0), 120);\n\n  const existing = document.getElementById(filterId) as SVGFilterElement | null;\n  if (existing) {\n    const displacementNode = existing.querySelector('feDisplacementMap');\n    if (displacementNode) {\n      displacementNode.setAttribute('scale', normalizedScale.toString());\n    }\n    return;\n  }\n\n  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svg.setAttribute('aria-hidden', 'true');\n  svg.setAttribute('focusable', 'false');\n  svg.style.position = 'absolute';\n  svg.style.width = '0';\n  svg.style.height = '0';\n  svg.style.visibility = 'hidden';\n\n  const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');\n  const filter = document.createElementNS('http://www.w3.org/2000/svg', 'filter');\n  filter.id = filterId;\n  svg.setAttribute('data-rlg-filter', filterId);\n\n  const turbulence = document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    'feTurbulence',\n  );\n  turbulence.setAttribute('type', 'fractalNoise');\n  turbulence.setAttribute('baseFrequency', '0.004 0.0055');\n  turbulence.setAttribute('numOctaves', '2');\n  turbulence.setAttribute('seed', '7');\n  turbulence.setAttribute('result', 'distortNoise');\n\n  const blur = document.createElementNS('http://www.w3.org/2000/svg', 'feGaussianBlur');\n  blur.setAttribute('in', 'distortNoise');\n  blur.setAttribute('stdDeviation', '6.5');\n  blur.setAttribute('result', 'softNoise');\n\n  const displacement = document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    'feDisplacementMap',\n  );\n  displacement.setAttribute('in', 'SourceGraphic');\n  displacement.setAttribute('in2', 'softNoise');\n  displacement.setAttribute('scale', normalizedScale.toString());\n  displacement.setAttribute('xChannelSelector', 'R');\n  displacement.setAttribute('yChannelSelector', 'G');\n\n  filter.appendChild(turbulence);\n  filter.appendChild(blur);\n  filter.appendChild(displacement);\n  defs.appendChild(filter);\n  svg.appendChild(defs);\n  document.body.appendChild(svg);\n}\n\nexport const LiquidGlass = forwardRef<LiquidGlassRef, LiquidGlassProps>(\n  (\n    {\n      children,\n      className,\n      style,\n      intensity = 0.65,\n      ripple = 0.35,\n      blurRadius = 18,\n      tint = 'rgba(255, 255, 255, 0.16)',\n      highlightColor = 'rgba(255, 255, 255, 0.6)',\n      highlightStrength = 0.55,\n      animated = true,\n      distortion = false,\n      distortionFilterId = 'rlg-distort-filter',\n      distortionScale = 36,\n      ...rest\n    },\n    ref,\n  ) => {\n    const supportsCssFeature = (property: string, value: string) =>\n      typeof CSS !== 'undefined' && typeof CSS.supports === 'function'\n        ? CSS.supports(property, value)\n        : false;\n\n    const supportsBackdropFilter =\n      supportsCssFeature('backdrop-filter', 'blur(1px)') ||\n      supportsCssFeature('-webkit-backdrop-filter', 'blur(1px)');\n\n    const isFirefox = navigator.userAgent.includes('Firefox');\n    const supportsSvgFilter = supportsCssFeature('backdrop-filter', `url(#${distortionFilterId})`);\n\n    const shouldApplyDistortion = distortion && supportsBackdropFilter && supportsSvgFilter && !isFirefox;\n\n    const variables = useMemo<LiquidGlassCSSVariables>(() => {\n      const cssVariables: LiquidGlassCSSVariables = {};\n      cssVariables['--rlg-intensity'] = clamp(intensity, 0, 1).toFixed(3);\n      cssVariables['--rlg-ripple-opacity'] = clamp(ripple, 0, 1).toFixed(3);\n      cssVariables['--rlg-highlight-strength'] = clamp(\n        highlightStrength,\n        0,\n        1,\n      ).toFixed(3);\n      cssVariables['--rlg-blur-radius'] = `${clamp(blurRadius, 0, 120).toFixed(\n        0,\n      )}px`;\n      cssVariables['--rlg-highlight-color'] = highlightColor;\n      cssVariables['--rlg-tint'] = tint;\n      cssVariables['--rlg-backdrop-filter-prefix'] = shouldApplyDistortion\n        ? `url(#${distortionFilterId}) `\n        : ' ';\n\n      return cssVariables;\n    }, [\n      intensity,\n      ripple,\n      blurRadius,\n      tint,\n      highlightColor,\n      highlightStrength,\n      distortionFilterId,\n      shouldApplyDistortion,\n    ])\n\n    const composedStyle: CSSProperties = {\n      ...variables,\n      ...style,\n    };\n\n    useEffect(() => {\n      if (!shouldApplyDistortion) {\n        return;\n      }\n\n      const normalized = clamp(distortionScale, -120, 120);\n      injectDistortionFilter(distortionFilterId, normalized);\n    }, [shouldApplyDistortion, distortionFilterId, distortionScale]);\n\n    return (\n      <div\n        ref={ref}\n        data-liquid-glass=\"\"\n        data-liquid-glass-animated={animated ? '' : undefined}\n        data-liquid-glass-distortion={distortion ? '' : undefined}\n        className={mergeClassNames('rlg-surface', className)}\n        style={composedStyle}\n        {...rest}\n      >\n        {children}\n      </div>\n    );\n  },\n);\n\nLiquidGlass.displayName = 'LiquidGlass';\n"],"mappings":"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"}